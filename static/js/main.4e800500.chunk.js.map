{"version":3,"sources":["services/pixabay.js","components/Searchbar/Searchbar.js","components/Modal/Modal.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Loader/Loader.js","App.js","index.js"],"names":["pixabayFetchPhoto","query","currentPage","axios","get","then","response","data","hits","propTypes","PropTypes","string","isRequired","number","Searchbar","state","handleChange","e","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","props","onSubmit","className","this","type","autoComplete","autoFocus","placeholder","onChange","Component","modalRoot","document","querySelector","Modal","handleKeyDown","code","onClose","handleBackdropClick","event","target","window","addEventListener","removeEventListener","src","alt","createPortal","onClick","ImageGalleryItem","isModalOpen","toggleModal","largeImageUrl","ImageGallery","images","map","image","webformatURL","tags","largeImageURL","id","Button","LoaderSpinner","color","height","width","timeout","App","search","error","newSearch","fetchPhoto","isLoading","gallery","prevState","catch","finally","onLoadMoreButtonClick","options","top","behavior","pageYOffset","documentElement","clientHeight","setTimeout","scrollTo","prevProps","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.4e800500.chunk.js","sourcesContent":["import axios from 'axios';\nimport PropTypes from 'prop-types';\n\nconst BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = '23122721-ac4409033b31871735d6c9bbc';\n\nconst pixabayFetchPhoto = (query, currentPage) => {\n    return axios\n        .get(\n            `${BASE_URL}?q=${query}&page=${currentPage}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`\n        )\n        .then(response => response.data.hits);\n};\n\n\npixabayFetchPhoto.propTypes = {\n    query: PropTypes.string.isRequired,\n    currentPage: PropTypes.number.isRequired,\n};\n\n\nexport default pixabayFetchPhoto;","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\n\nexport default class Searchbar extends Component {\n    state = {\n        query: '',\n    };\n\n\n    handleChange = e => {\n        this.setState({\n            query: e.currentTarget.value.toLowerCase()\n        });\n    };\n\n    handleSubmit = e => {\n        e.preventDefault();\n\n        this.props.onSubmit(this.state.query);\n        this.setState({ query: '' });\n    };\n\n\n    render() {\n       \n        return (\n            <header className=\"Searchbar\">\n                <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\n                    <button type=\"submit\" className=\"SearchForm-button\">\n                        <span className=\"SearchForm-button-label\">Search</span>\n                    </button>\n\n                    <input\n                        value={this.state.query}\n                        className=\"SearchForm-input\"\n                        type=\"text\"\n                        autoComplete=\"off\"\n                        autoFocus\n                        placeholder=\"Search images and photos\"\n                        onChange={this.handleChange}\n                    />\n                </form>\n            </header>\n        );\n    }\n}\n\nSearchbar.propTypes = {\n    onSubmit: PropTypes.func.isRequired,\n};\n\n","import React, { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport PropTypes from 'prop-types';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nexport default class Modal extends Component {\n  static propTypes = {\n    onClose: PropTypes.func.isRequired,\n    src: PropTypes.string.isRequired,\n    alt: PropTypes.string.isRequired,\n  };\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n\n  handleKeyDown = e => {\n    if (e.code === 'Escape') {\n      this.props.onClose();\n    }\n  };\n\n  handleBackdropClick = event => {\n    if (event.currentTarget === event.target) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    const { src, alt } = this.props;\n\n    return createPortal(\n      <div className=\"Overlay\" onClick={this.handleBackdropClick}>\n        <div className=\"Modal\">\n          <img src={src} alt={alt} />\n        </div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Modal from '../Modal/Modal';\n\nexport default class ImageGalleryItem extends Component{\n    state = {\n        isModalOpen: false,\n    };\n\n    toggleModal = () => {\n        this.setState(({ isModalOpen }) => ({\n            isModalOpen: !isModalOpen,\n        }));\n    }\n\n    render() {\n        const { src, alt, largeImageUrl } = this.props;\n        const { isModalOpen } = this.state;\n        return (\n            <li className=\"ImageGalleryItem\">\n                <img\n                    onClick={this.toggleModal}\n                    src={src}\n                    alt={alt}\n                    className=\"ImageGalleryItem-image\"\n                />\n                {isModalOpen && (<Modal onClose={this.toggleModal} src={largeImageUrl} alt={alt} />)}\n            </li>\n        );\n    }\n}\n\nImageGalleryItem.propTypes = {\n    src: PropTypes.string.isRequired,\n    alt: PropTypes.string.isRequired,\n    largeImageUrl: PropTypes.string.isRequired,\n};\n","import ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\nimport PropTypes from 'prop-types';\n\nexport default function ImageGallery({ images }) {\n    return (\n        <ul className=\"ImageGallery\">\n            {images.map((image) => (\n                <ImageGalleryItem\n                    src={image.webformatURL}\n                    alt={image.tags}\n                    largeImageUrl={image.largeImageURL}\n                    key={image.id}\n                />\n            ))}\n  \n        </ul>\n    );\n}\n\nImageGallery.propTypes = {\n  gallery: PropTypes.arrayOf(PropTypes.object),\n};","import React from \"react\";\nimport PropTypes from 'prop-types';\n\nexport default function Button({ onClick }) {\n    return(\n        <button type='button' className='Button' onClick={onClick}>\n            Load more\n        </button>\n    );\n}\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};","import React, { Component } from \"react\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport Loader from \"react-loader-spinner\";\nexport default class LoaderSpinner extends Component {\n  render() {\n    return (\n      <Loader\n        type=\"TailSpin\"\n        color=\"#00BFFF\"\n        height={80}\n        width={80}\n        timeout={300}\n        className='Loader'\n      />\n    );\n  }\n}","import './App.css';\nimport React, { Component } from 'react';\n\nimport pixabayFetchPhoto from './services/pixabay';\nimport Searchbar from './components/Searchbar/Searchbar';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport Button from './components/Button/Button';\nimport LoaderSpinner from './components/Loader/Loader';\n\nexport default class App extends Component {\n  state = {\n    images: [],\n    currentPage: 1,\n    search: '',\n    error: null,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.search !== this.state.search) {\n      this.fetchPhoto();\n    }\n  }\n\n  handleSubmit = newSearch => {\n    this.setState({ search: newSearch, currentPage: 1, images: [], error: null });\n  };\n\n  fetchPhoto = () => {\n    const { search, currentPage } = this.state;\n\n    this.setState({ isLoading: true });\n\n    pixabayFetchPhoto(search, currentPage)\n      .then(gallery => {\n        this.setState(prevState => ({\n          images: [...prevState.images, ...gallery],\n          currentPage: prevState.currentPage + 1,\n        }));\n      })\n      .catch(error => this.setState({ error }))\n      .finally(() => {\n        this.onLoadMoreButtonClick();\n        this.setState({ isLoading: false });\n      });\n      \n  };\n\n  onLoadMoreButtonClick = () => {\n    if (this.state.currentPage > 2) {\n      const options = {\n        top: null,\n        behavior: 'smooth',\n      };\n\n      options.top = window.pageYOffset + document.documentElement.clientHeight;\n      setTimeout(() => {\n        window.scrollTo(options);\n      }, 500);\n    }\n  };\n\n  render() {\n    return (\n      <div className=\"App\">\n       \n        <Searchbar onSubmit={this.handleSubmit} />\n        {this.state.error && (<p>No matches found! Try again!</p>)}\n        {this.state.isLoading && (\n          <LoaderSpinner/>\n        )}\n        <ImageGallery images={this.state.images} />\n        {this.state.search && this.state.images.length > 11 && (\n            <Button onClick={this.fetchPhoto}/>\n        )}\n      </div>\n    );\n  }\n}\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}